import{_ as k,r as m,b as S,g as x,c as n,a as e,d as i,P,e as u,F as C,f as I,w as g,u as M,o as d,n as D,t as o,h as f,i as T}from"./index-kcQoswnZ.js";const N={class:"path-selection"},O={class:"selection-container"},j={key:0,class:"loading-state"},B={key:1,class:"path-grid"},L=["onClick"],$={class:"path-badge"},F={class:"badge-text"},V={class:"path-content"},J={class:"path-header"},z={class:"path-title"},A={class:"path-description"},E={class:"path-info-tags"},H={class:"info-tag"},R={class:"info-text"},U={class:"info-tag"},Y={class:"info-text"},q={class:"path-action"},G={class:"view-all"},K={__name:"PathSelection",setup(Q){const _=M(),l=m([]),c=m(!1);S(async()=>{fetch("http://127.0.0.1:7242/ingest/05f430ea-d856-4cc8-9527-808e1906fa57",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PathSelection.vue:98",message:"Component mounted, starting to load paths",data:{timestamp:Date.now()},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});try{const s=await x();fetch("http://127.0.0.1:7242/ingest/05f430ea-d856-4cc8-9527-808e1906fa57",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PathSelection.vue:102",message:"Paths loaded successfully",data:{pathCount:s.length,paths:s.map(t=>({id:t.id,name:t.name}))},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),l.value=s,fetch("http://127.0.0.1:7242/ingest/05f430ea-d856-4cc8-9527-808e1906fa57",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PathSelection.vue:105",message:"Path list updated in ref",data:{refLength:l.value.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{})}catch(s){fetch("http://127.0.0.1:7242/ingest/05f430ea-d856-4cc8-9527-808e1906fa57",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"PathSelection.vue:108",message:"Failed to load paths",data:{errorMessage:s.message,errorStack:s.stack},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),console.error("Failed to load paths:",s)}});const y=s=>({active:"green",planning:"blue",completed:"default"})[s]||"default",w=s=>({active:"进行中",planning:"计划中",completed:"已完成"})[s]||s,b=s=>{const t=new Date(s),p=t.getFullYear(),h=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${p}-${h}-${r}`},v=s=>{_.push({name:"path-description",params:{pathId:s.id}})};return(s,t)=>{const p=u("a-spin"),h=u("a-tag"),r=u("a-button");return d(),n("div",N,[e("div",O,[t[8]||(t[8]=e("h1",{class:"selection-title"},"选择协作空间",-1)),t[9]||(t[9]=e("p",{class:"selection-subtitle"},"请选择一个 Path 项目进入对应的协作空间",-1)),i(P,{open:c.value,"onUpdate:open":t[0]||(t[0]=a=>c.value=a),onViewPath:v},null,8,["open"]),l.value.length===0?(d(),n("div",j,[i(p,{size:"large"}),t[2]||(t[2]=e("p",null,"加载 Path 列表中...",-1))])):(d(),n("div",B,[(d(!0),n(C,null,I(l.value,a=>(d(),n("div",{key:a.id,class:D(["path-card",`path-card-${a.status}`]),onClick:W=>v(a)},[t[6]||(t[6]=e("div",{class:"card-decoration"},null,-1)),e("div",$,[e("span",F,o(a.name),1)]),e("div",V,[e("div",J,[e("h3",z,o(a.title),1),i(h,{color:y(a.status),class:"status-tag"},{default:g(()=>[f(o(w(a.status)),1)]),_:2},1032,["color"])]),e("p",A,o(a.description),1),e("div",E,[e("div",H,[t[3]||(t[3]=e("div",{class:"info-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1)),e("span",R,o(b(a.startDate)),1)]),e("div",U,[t[4]||(t[4]=T('<div class="info-icon" data-v-14454eb0><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-14454eb0><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-14454eb0></path><circle cx="9" cy="7" r="4" data-v-14454eb0></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-14454eb0></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-14454eb0></path></svg></div>',1)),e("span",Y,o(a.participants)+" 人参与",1)])])]),e("div",q,[i(r,{type:"primary",size:"large",block:"",class:"enter-btn"},{default:g(()=>[...t[5]||(t[5]=[e("span",null,"进入协作空间",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])]),_:1})])],10,L))),128))])),e("div",G,[i(r,{type:"link",onClick:t[1]||(t[1]=a=>c.value=!0)},{default:g(()=>[...t[7]||(t[7]=[f(" 查看全部 Path 项目 ",-1)])]),_:1})])])])}}},Z=k(K,[["__scopeId","data-v-14454eb0"]]);export{Z as default};
