import{_ as x,r as p,j as C,c as s,o as n,a as o,t as a,m as l,F as b,f as B,x as h,E as j,h as A,i as V}from"./index-kcQoswnZ.js";const D={class:"card-cover"},N=["src","alt"],E={key:1,class:"cover-placeholder"},I={class:"cover-title-overlay"},L={class:"cover-title"},M={class:"card-content"},S={class:"card-preview"},$={class:"card-footer"},F={class:"card-author"},H=["src","alt"],O={key:1,class:"author-avatar-placeholder"},q={class:"author-name"},m=300,z={__name:"DiscoveryCard",props:{item:{type:Object,required:!0},showActions:{type:Boolean,default:!1},actionButtons:{type:Object,default:()=>({})}},emits:["click","action"],setup(t,{emit:k}){const i=t,v=k,r=p(!1),w=C(()=>i.item.content?(r.value?i.item.content:i.item.content.substring(0,m)).split(`
`).filter(e=>e.trim()):[]),y=()=>{r.value=!r.value},f=()=>{v("click",i.item)},u=c=>{v("action",c,i.item)};return(c,e)=>(n(),s("div",{class:"discovery-card",onClick:f},[o("div",D,[t.item.coverImage?(n(),s("img",{key:0,src:t.item.coverImage,alt:t.item.title,class:"cover-img"},null,8,N)):(n(),s("div",E,[...e[3]||(e[3]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o("polyline",{points:"21 15 16 10 5 21"})],-1)])])),o("div",I,[o("h3",L,a(t.item.title),1)])]),o("div",M,[o("div",S,[(n(!0),s(b,null,B(w.value,(d,g)=>(n(),s("p",{key:g,class:"preview-line"},a(d),1))),128)),t.item.content&&t.item.content.length>m?(n(),s("button",{key:0,class:"view-more-btn",onClick:h(y,["stop"])},a(r.value?"收起":".......点击查看更多"),1)):l("",!0)]),o("div",$,[o("div",F,[t.item.authorAvatar?(n(),s("img",{key:0,src:t.item.authorAvatar,alt:t.item.author,class:"author-avatar"},null,8,H)):(n(),s("div",O,a(t.item.author?.charAt(0)||"U"),1)),o("span",q,a(t.item.author),1)]),t.showActions?(n(),s("div",{key:0,class:"card-actions",onClick:e[2]||(e[2]=h(()=>{},["stop"]))},[j(c.$slots,"actions",{},()=>[t.actionButtons?.chat?(n(),s("button",{key:0,class:"action-btn chat-btn",onClick:e[0]||(e[0]=d=>u("chat"))},[...e[4]||(e[4]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})],-1),A(" 聊天 ",-1)])])):l("",!0),t.actionButtons?.apply?(n(),s("button",{key:1,class:"action-btn apply-btn",onClick:e[1]||(e[1]=d=>u("apply"))},[...e[5]||(e[5]=[V('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-f291f795><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-f291f795></path><circle cx="8.5" cy="7" r="4" data-v-f291f795></circle><line x1="20" y1="8" x2="20" y2="14" data-v-f291f795></line><line x1="23" y1="11" x2="17" y2="11" data-v-f291f795></line></svg> 申请加入 ',2)])])):l("",!0)])])):l("",!0)])])]))}},U=x(z,[["__scopeId","data-v-f291f795"]]);export{U as D};
